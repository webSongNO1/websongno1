import{c,A as bt,C as Te,aj as K,r as V,E as rt,x as le,v as Y,aC as ht,D as q,y as Ke,p as _,H as oe,w as me,ah as ae,ai as pe,ak as Le,K as Se,V as yt,X as St,Y as Ye,bp as Nt,a9 as It,am as $t,aJ as wt,bf as _t,aq as xt,bq as Je,L as Ct,ad as Pe,br as Et,a as Oe,bs as Pt,o as b,b as U,e as x,d as T,at as De,bi as ke,u as n,F as ne,az as Ot,B as Dt,f as H,t as Fe,g as C,ar as Ne,av as Qe,aw as fe}from"./index-Ce41ocDD.js";import{a as kt,b as Ft}from"./productList-DQpiE5Oj.js";import{O as Rt,u as Mt}from"./OriginLIst-BkThXzi-.js";import{i as At,a as lt,g as Vt,k as Lt,l as Bt,m as Ut,b as ot,n as it,u as Tt,c as jt,e as Gt,d as Re,N as Ze,F as zt,_ as Ht,I as Wt,o as qt}from"./index-CKAsUCrO.js";import{i as Xt,S as Kt,_ as Yt,R as Jt,b as Qt}from"./index-C-BF23Zx.js";import{P as Me}from"./PlusOutlined-BFDY32tQ.js";import"./request-CDtsqYAV.js";var Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const en=Zt;function et(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),i.forEach(function(r){tn(e,r,a[r])})}return e}function tn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var je=function(t,a){var i=et({},t,a.attrs);return c(bt,et({},i,{icon:en}),null)};je.displayName="UpOutlined";je.inheritAttrs=!1;const nn=je;function Be(){return typeof BigInt=="function"}function ve(e){let t=e.trim(),a=t.startsWith("-");a&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t=`0${t}`);const i=t||"0",r=i.split("."),u=r[0]||"0",v=r[1]||"0";u==="0"&&v==="0"&&(a=!1);const y=a?"-":"";return{negative:a,negativeStr:y,trimStr:i,integerStr:u,decimalStr:v,fullStr:`${y}${i}`}}function Ge(e){const t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function be(e){const t=String(e);if(Ge(e)){let a=Number(t.slice(t.indexOf("e-")+2));const i=t.match(/\.(\d+)/);return i!=null&&i[1]&&(a+=i[1].length),a}return t.includes(".")&&He(t)?t.length-t.indexOf(".")-1:0}function ze(e){let t=String(e);if(Ge(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Be()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Be()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(be(t))}return ve(t).fullStr}function He(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}function st(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}class re{constructor(t){if(this.origin="",st(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}negate(){return new re(-this.toNumber())}add(t){if(this.isInvalidate())return new re(t);const a=Number(t);if(Number.isNaN(a))return this;const i=this.number+a;if(i>Number.MAX_SAFE_INTEGER)return new re(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new re(Number.MIN_SAFE_INTEGER);const r=Math.max(be(this.number),be(a));return new re(i.toFixed(r))}isEmpty(){return this.empty}isNaN(){return Number.isNaN(this.number)}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(t){return this.toNumber()===(t==null?void 0:t.toNumber())}lessEquals(t){return this.add(t.negate().toString()).toNumber()<=0}toNumber(){return this.number}toString(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?this.isInvalidate()?"":ze(this.number):this.origin}}class ge{constructor(t){if(this.origin="",st(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}let a=t;if(Ge(a)&&(a=Number(a)),a=typeof a=="string"?a:ze(a),He(a)){const i=ve(a);this.negative=i.negative;const r=i.trimStr.split(".");this.integer=BigInt(r[0]);const u=r[1]||"0";this.decimal=BigInt(u),this.decimalLen=u.length}else this.nan=!0}getMark(){return this.negative?"-":""}getIntegerStr(){return this.integer.toString()}getDecimalStr(){return this.decimal.toString().padStart(this.decimalLen,"0")}alignDecimal(t){const a=`${this.getMark()}${this.getIntegerStr()}${this.getDecimalStr().padEnd(t,"0")}`;return BigInt(a)}negate(){const t=new ge(this.toString());return t.negative=!t.negative,t}add(t){if(this.isInvalidate())return new ge(t);const a=new ge(t);if(a.isInvalidate())return this;const i=Math.max(this.getDecimalStr().length,a.getDecimalStr().length),r=this.alignDecimal(i),u=a.alignDecimal(i),v=(r+u).toString(),{negativeStr:y,trimStr:S}=ve(v),h=`${y}${S.padStart(i+1,"0")}`;return new ge(`${h.slice(0,-i)}.${h.slice(-i)}`)}isEmpty(){return this.empty}isNaN(){return this.nan}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(t){return this.toString()===(t==null?void 0:t.toString())}lessEquals(t){return this.add(t.negate().toString()).toNumber()<=0}toNumber(){return this.isNaN()?NaN:Number(this.toString())}toString(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?this.isInvalidate()?"":ve(`${this.getMark()}${this.getIntegerStr()}.${this.getDecimalStr()}`).fullStr:this.origin}}function W(e){return Be()?new ge(e):new re(e)}function Ue(e,t,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";const{negativeStr:r,integerStr:u,decimalStr:v}=ve(e),y=`${t}${v}`,S=`${r}${u}`;if(a>=0){const h=Number(v[a]);if(h>=5&&!i){const g=W(e).add(`${r}0.${"0".repeat(a)}${10-h}`);return Ue(g.toString(),t,a,i)}return a===0?S:`${S}${t}${v.padEnd(a,"0").slice(0,a)}`}return y===".0"?S:`${S}${y}`}const an=200,rn=600,ln=Te({compatConfig:{MODE:3},name:"StepHandler",inheritAttrs:!1,props:{prefixCls:String,upDisabled:Boolean,downDisabled:Boolean,onStep:K()},slots:Object,setup(e,t){let{slots:a,emit:i}=t;const r=V(),u=(y,S)=>{y.preventDefault(),i("step",S);function h(){i("step",S),r.value=setTimeout(h,an)}r.value=setTimeout(h,rn)},v=()=>{clearTimeout(r.value)};return rt(()=>{v()}),()=>{if(Xt())return null;const{prefixCls:y,upDisabled:S,downDisabled:h}=e,g=`${y}-handler`,O=le(g,`${g}-up`,{[`${g}-up-disabled`]:S}),F=le(g,`${g}-down`,{[`${g}-down-disabled`]:h}),L={unselectable:"on",role:"button",onMouseup:v,onMouseleave:v},{upNode:D,downNode:B}=a;return c("div",{class:`${g}-wrap`},[c("span",Y(Y({},L),{},{onMousedown:p=>{u(p,!0)},"aria-label":"Increase Value","aria-disabled":S,class:O}),[(D==null?void 0:D())||c("span",{unselectable:"on",class:`${y}-handler-up-inner`},null)]),c("span",Y(Y({},L),{},{onMousedown:p=>{u(p,!1)},"aria-label":"Decrease Value","aria-disabled":h,class:F}),[(B==null?void 0:B())||c("span",{unselectable:"on",class:`${y}-handler-down-inner`},null)])])}}});function on(e,t){const a=V(null);function i(){try{const{selectionStart:u,selectionEnd:v,value:y}=e.value,S=y.substring(0,u),h=y.substring(v);a.value={start:u,end:v,value:y,beforeTxt:S,afterTxt:h}}catch{}}function r(){if(e.value&&a.value&&t.value)try{const{value:u}=e.value,{beforeTxt:v,afterTxt:y,start:S}=a.value;let h=u.length;if(u.endsWith(y))h=u.length-a.value.afterTxt.length;else if(u.startsWith(v))h=v.length;else{const g=v[S-1],O=u.indexOf(g,S-1);O!==-1&&(h=O+1)}e.value.setSelectionRange(h,h)}catch(u){ht(!1,`Something warning of cursor restore. Please fire issue about this: ${u.message}`)}}return[i,r]}const sn=()=>{const e=q(0),t=()=>{Ke.cancel(e.value)};return rt(()=>{t()}),a=>{t(),e.value=Ke(()=>{a()})}};var un=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]]);return a};const tt=(e,t)=>e||t.isEmpty()?t.toString():t.toNumber(),nt=e=>{const t=W(e);return t.isInvalidate()?null:t},ut=()=>({stringMode:ae(),defaultValue:pe([String,Number]),value:pe([String,Number]),prefixCls:Le(),min:pe([String,Number]),max:pe([String,Number]),step:pe([String,Number],1),tabindex:Number,controls:ae(!0),readonly:ae(),disabled:ae(),autofocus:ae(),keyboard:ae(!0),parser:K(),formatter:K(),precision:Number,decimalSeparator:String,onInput:K(),onChange:K(),onPressEnter:K(),onStep:K(),onBlur:K(),onFocus:K()}),dn=Te({compatConfig:{MODE:3},name:"InnerInputNumber",inheritAttrs:!1,props:_(_({},ut()),{lazy:Boolean}),slots:Object,setup(e,t){let{attrs:a,slots:i,emit:r,expose:u}=t;const v=q(),y=q(!1),S=q(!1),h=q(!1),g=q(W(e.value));function O(o){e.value===void 0&&(g.value=o)}const F=(o,d)=>{if(!d)return e.precision>=0?e.precision:Math.max(be(o),be(e.step))},L=o=>{const d=String(o);if(e.parser)return e.parser(d);let m=d;return e.decimalSeparator&&(m=m.replace(e.decimalSeparator,".")),m.replace(/[^\w.-]+/g,"")},D=q(""),B=(o,d)=>{if(e.formatter)return e.formatter(o,{userTyping:d,input:String(D.value)});let m=typeof o=="number"?ze(o):o;if(!d){const l=F(m,d);if(He(m)&&(e.decimalSeparator||l>=0)){const E=e.decimalSeparator||".";m=Ue(m,E,l)}}return m},p=(()=>{const o=e.value;return g.value.isInvalidate()&&["string","number"].includes(typeof o)?Number.isNaN(o)?"":o:B(g.value.toString(),!1)})();D.value=p;function $(o,d){D.value=B(o.isInvalidate()?o.toString(!1):o.toString(!d),d)}const A=oe(()=>nt(e.max)),P=oe(()=>nt(e.min)),N=oe(()=>!A.value||!g.value||g.value.isInvalidate()?!1:A.value.lessEquals(g.value)),I=oe(()=>!P.value||!g.value||g.value.isInvalidate()?!1:g.value.lessEquals(P.value)),[J,X]=on(v,y),Q=o=>A.value&&!o.lessEquals(A.value)?A.value:P.value&&!P.value.lessEquals(o)?P.value:null,ie=o=>!Q(o),ee=(o,d)=>{var m;let l=o,E=ie(l)||l.isEmpty();if(!l.isEmpty()&&!d&&(l=Q(l)||l,E=!0),!e.readonly&&!e.disabled&&E){const z=l.toString(),de=F(z,d);return de>=0&&(l=W(Ue(z,".",de))),l.equals(g.value)||(O(l),(m=e.onChange)===null||m===void 0||m.call(e,l.isEmpty()?null:tt(e.stringMode,l)),e.value===void 0&&$(l,d)),l}return g.value},se=sn(),f=o=>{var d;if(J(),D.value=o,!h.value){const m=L(o),l=W(m);l.isNaN()||ee(l,!0)}(d=e.onInput)===null||d===void 0||d.call(e,o),se(()=>{let m=o;e.parser||(m=o.replace(/。/g,".")),m!==o&&f(m)})},s=()=>{h.value=!0},k=()=>{h.value=!1,f(v.value.value)},j=o=>{f(o.target.value)},R=o=>{var d,m;if(o&&N.value||!o&&I.value)return;S.value=!1;let l=W(e.step);o||(l=l.negate());const E=(g.value||W(0)).add(l.toString()),z=ee(E,!1);(d=e.onStep)===null||d===void 0||d.call(e,tt(e.stringMode,z),{offset:e.step,type:o?"up":"down"}),(m=v.value)===null||m===void 0||m.focus()},M=o=>{const d=W(L(D.value));let m=d;d.isNaN()?m=g.value:m=ee(d,o),e.value!==void 0?$(g.value,!1):m.isNaN()||$(m,!1)},Z=o=>{var d;const{which:m}=o;S.value=!0,m===Se.ENTER&&(h.value||(S.value=!1),M(!1),(d=e.onPressEnter)===null||d===void 0||d.call(e,o)),e.keyboard!==!1&&!h.value&&[Se.UP,Se.DOWN].includes(m)&&(R(Se.UP===m),o.preventDefault())},ue=()=>{S.value=!1},G=o=>{M(!1),y.value=!1,S.value=!1,r("blur",o)};return me(()=>e.precision,()=>{g.value.isInvalidate()||$(g.value,!1)},{flush:"post"}),me(()=>e.value,()=>{const o=W(e.value);g.value=o;const d=W(L(D.value));(!o.equals(d)||!S.value||e.formatter)&&$(o,S.value)},{flush:"post"}),me(D,()=>{e.formatter&&X()},{flush:"post"}),me(()=>e.disabled,o=>{o&&(y.value=!1)}),u({focus:()=>{var o;(o=v.value)===null||o===void 0||o.focus()},blur:()=>{var o;(o=v.value)===null||o===void 0||o.blur()}}),()=>{const o=_(_({},a),e),{prefixCls:d="rc-input-number",min:m,max:l,step:E=1,defaultValue:z,value:de,disabled:he,readonly:ye,keyboard:w,controls:Ie=!0,autofocus:te,stringMode:$e,parser:we,formatter:ce,precision:_e,decimalSeparator:xe,onChange:Ce,onInput:We,onPressEnter:qe,onStep:On,lazy:dt,class:ct,style:ft}=o,gt=un(o,["prefixCls","min","max","step","defaultValue","value","disabled","readonly","keyboard","controls","autofocus","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","lazy","class","style"]),{upHandler:pt,downHandler:mt}=i,Xe=`${d}-input`,Ee={};return dt?Ee.onChange=j:Ee.onInput=j,c("div",{class:le(d,ct,{[`${d}-focused`]:y.value,[`${d}-disabled`]:he,[`${d}-readonly`]:ye,[`${d}-not-a-number`]:g.value.isNaN(),[`${d}-out-of-range`]:!g.value.isInvalidate()&&!ie(g.value)}),style:ft,onKeydown:Z,onKeyup:ue},[Ie&&c(ln,{prefixCls:d,upDisabled:N.value,downDisabled:I.value,onStep:R},{upNode:pt,downNode:mt}),c("div",{class:`${Xe}-wrap`},[c("input",Y(Y(Y({autofocus:te,autocomplete:"off",role:"spinbutton","aria-valuemin":m,"aria-valuemax":l,"aria-valuenow":g.value.isInvalidate()?null:g.value.toString(),step:E},gt),{},{ref:v,class:Xe,value:D.value,disabled:he,readonly:ye,onFocus:vt=>{y.value=!0,r("focus",vt)}},Ee),{},{onBlur:G,onCompositionstart:s,onCompositionend:k}),null)])])}}});function Ae(e){return e!=null}const cn=e=>{const{componentCls:t,lineWidth:a,lineType:i,colorBorder:r,borderRadius:u,fontSizeLG:v,controlHeightLG:y,controlHeightSM:S,colorError:h,inputPaddingHorizontalSM:g,colorTextDescription:O,motionDurationMid:F,colorPrimary:L,controlHeight:D,inputPaddingHorizontal:B,colorBgContainer:p,colorTextDisabled:$,borderRadiusSM:A,borderRadiusLG:P,controlWidth:N,handleVisible:I}=e;return[{[t]:_(_(_(_({},Ye(e)),ot(e)),it(e,t)),{display:"inline-block",width:N,margin:0,padding:0,border:`${a}px ${i} ${r}`,borderRadius:u,"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:v,borderRadius:P,[`input${t}-input`]:{height:y-2*a}},"&-sm":{padding:0,borderRadius:A,[`input${t}-input`]:{height:S-2*a,padding:`0 ${g}px`}},"&:hover":_({},lt(e)),"&-focused":_({},Vt(e)),"&-disabled":_(_({},Lt(e)),{[`${t}-input`]:{cursor:"not-allowed"}}),"&-out-of-range":{input:{color:h}},"&-group":_(_(_({},Ye(e)),Bt(e)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:P}},"&-sm":{[`${t}-group-addon`]:{borderRadius:A}}}}),[t]:{"&-input":_(_({width:"100%",height:D-2*a,padding:`0 ${B}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:u,outline:0,transition:`all ${F} linear`,appearance:"textfield",color:e.colorText,fontSize:"inherit",verticalAlign:"top"},Ut(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[t]:{[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{opacity:1},[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",background:p,borderStartStartRadius:0,borderStartEndRadius:u,borderEndEndRadius:u,borderEndStartRadius:0,opacity:I===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${F} linear ${F}`,[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:O,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${a}px ${i} ${r}`,transition:`all ${F} linear`,"&:active":{background:e.colorFillAlter},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:L}},"&-up-inner, &-down-inner":_(_({},Nt()),{color:O,transition:`all ${F} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:u},[`${t}-handler-down`]:{borderBlockStart:`${a}px ${i} ${r}`,borderEndEndRadius:u},"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:$}}},{[`${t}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${t}-handler-down`]:{borderBlockStartWidth:0}}}]},fn=e=>{const{componentCls:t,inputPaddingHorizontal:a,inputAffixPadding:i,controlWidth:r,borderRadiusLG:u,borderRadiusSM:v}=e;return{[`${t}-affix-wrapper`]:_(_(_({},ot(e)),it(e,`${t}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:r,padding:0,paddingInlineStart:a,"&-lg":{borderRadius:u},"&-sm":{borderRadius:v},[`&:not(${t}-affix-wrapper-disabled):hover`]:_(_({},lt(e)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${t}[disabled]`]:{background:"transparent"}},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},[`input${t}-input`]:{padding:0},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:a,marginInlineStart:i}}})}},gn=yt("InputNumber",e=>{const t=At(e);return[cn(t),fn(t),St(t)]},e=>({controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:"auto"}));var pn=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]]);return a};const at=ut(),mn=()=>_(_({},at),{size:Le(),bordered:ae(!0),placeholder:String,name:String,id:String,type:String,addonBefore:Pe.any,addonAfter:Pe.any,prefix:Pe.any,"onUpdate:value":at.onChange,valueModifiers:Object,status:Le()}),Ve=Te({compatConfig:{MODE:3},name:"AInputNumber",inheritAttrs:!1,props:mn(),slots:Object,setup(e,t){let{emit:a,expose:i,attrs:r,slots:u}=t;const v=Tt(),y=jt.useInject(),S=oe(()=>Gt(y.status,e.status)),{prefixCls:h,size:g,direction:O,disabled:F}=It("input-number",e),{compactSize:L,compactItemClassnames:D}=$t(h,O),B=wt(),p=oe(()=>{var f;return(f=F.value)!==null&&f!==void 0?f:B.value}),[$,A]=gn(h),P=oe(()=>L.value||g.value),N=q(e.value===void 0?e.defaultValue:e.value),I=q(!1);me(()=>e.value,()=>{N.value=e.value});const J=q(null),X=()=>{var f;(f=J.value)===null||f===void 0||f.focus()};i({focus:X,blur:()=>{var f;(f=J.value)===null||f===void 0||f.blur()}});const ie=f=>{e.value===void 0&&(N.value=f),a("update:value",f),a("change",f),v.onFieldChange()},ee=f=>{I.value=!1,a("blur",f),v.onFieldBlur()},se=f=>{I.value=!0,a("focus",f)};return()=>{var f,s,k,j;const{hasFeedback:R,isFormItemInput:M,feedbackIcon:Z}=y,ue=(f=e.id)!==null&&f!==void 0?f:v.id.value,G=_(_(_({},r),e),{id:ue,disabled:p.value}),{class:o,bordered:d,readonly:m,style:l,addonBefore:E=(s=u.addonBefore)===null||s===void 0?void 0:s.call(u),addonAfter:z=(k=u.addonAfter)===null||k===void 0?void 0:k.call(u),prefix:de=(j=u.prefix)===null||j===void 0?void 0:j.call(u),valueModifiers:he={}}=G,ye=pn(G,["class","bordered","readonly","style","addonBefore","addonAfter","prefix","valueModifiers"]),w=h.value,Ie=le({[`${w}-lg`]:P.value==="large",[`${w}-sm`]:P.value==="small",[`${w}-rtl`]:O.value==="rtl",[`${w}-readonly`]:m,[`${w}-borderless`]:!d,[`${w}-in-form-item`]:M},Re(w,S.value),o,D.value,A.value);let te=c(dn,Y(Y({},xt(ye,["size","defaultValue"])),{},{ref:J,lazy:!!he.lazy,value:N.value,class:Ie,prefixCls:w,readonly:m,onChange:ie,onBlur:ee,onFocus:se}),{upHandler:u.upIcon?()=>c("span",{class:`${w}-handler-up-inner`},[u.upIcon()]):()=>c(nn,{class:`${w}-handler-up-inner`},null),downHandler:u.downIcon?()=>c("span",{class:`${w}-handler-down-inner`},[u.downIcon()]):()=>c(_t,{class:`${w}-handler-down-inner`},null)});const $e=Ae(E)||Ae(z),we=Ae(de);if(we||R){const ce=le(`${w}-affix-wrapper`,Re(`${w}-affix-wrapper`,S.value,R),{[`${w}-affix-wrapper-focused`]:I.value,[`${w}-affix-wrapper-disabled`]:p.value,[`${w}-affix-wrapper-sm`]:P.value==="small",[`${w}-affix-wrapper-lg`]:P.value==="large",[`${w}-affix-wrapper-rtl`]:O.value==="rtl",[`${w}-affix-wrapper-readonly`]:m,[`${w}-affix-wrapper-borderless`]:!d,[`${o}`]:!$e&&o},A.value);te=c("div",{class:ce,style:l,onClick:X},[we&&c("span",{class:`${w}-prefix`},[de]),te,R&&c("span",{class:`${w}-suffix`},[Z])])}if($e){const ce=`${w}-group`,_e=`${ce}-addon`,xe=E?c("div",{class:_e},[E]):null,Ce=z?c("div",{class:_e},[z]):null,We=le(`${w}-wrapper`,ce,{[`${ce}-rtl`]:O.value==="rtl"},A.value),qe=le(`${w}-group-wrapper`,{[`${w}-group-wrapper-sm`]:P.value==="small",[`${w}-group-wrapper-lg`]:P.value==="large",[`${w}-group-wrapper-rtl`]:O.value==="rtl"},Re(`${h}-group-wrapper`,S.value,R),o,A.value);te=c("div",{class:qe,style:l},[c("div",{class:We},[xe&&c(Je,null,{default:()=>[c(Ze,null,{default:()=>[xe]})]}),te,Ce&&c(Je,null,{default:()=>[c(Ze,null,{default:()=>[Ce]})]})])])}return $(Ct(te,{style:l}))}}}),vn=_(Ve,{install:e=>(e.component(Ve.name,Ve),e)}),bn={class:"upload-btn",for:"uploadGoodsCover"},hn={key:1},yn=["src"],Sn=["src"],Nn=["onClick"],In=["src"],$n={class:"dele"},wn=["onClick"],_n=["src"],xn=["disabled"],Cn={class:"upload-btn",for:"uploadGoodsPic"},En=T("span",{style:{color:"#ccc"}},"最多6张",-1),Pn={class:"btn"},Ln={__name:"index",setup(e){let t=Et(),a=Oe({value:[]});Rt().then(f=>{a.value=f.data.records});const i=Pt();let r=i.query.origin_type;const u={style:{width:"150px"}},v={span:14};let y=V(""),S=V(""),h=V(""),g=V(""),O=V(""),F=V(""),L=V(""),D=V("");const B=V("");let p=i.query;p.goodsImgList=typeof p.goodsImgList=="string"?[p.goodsImgList]:p.goodsImgList,y.value=p.goodsOriginName,S.value=p.name,h.value=p.goodsDescribe,g.value=p.goodsPrice,O.value=p.goodsSupplyPrice,F.value=p.inventory,L.value=p.goodsImg,D.value=p.freight,B.value=p.state;let $=V();$.value=r=="see";const P=()=>{Ot.back()};let N=Oe({inventoryCount:"",goodsSupplyPrice:"",goodsDescribe:"",goodsImg:"",goodsImgList:[],goodsFreightPrice:"",goodsPrice:"",goodsName:"",goodsStatus:"",operatorName:"操作人",goodsOriginId:"",goodsOriginName:""}),I=Oe({id:p.id,editGoodsPrice:p.price,editGoodsSupplyPrice:O.value,editInventoryCount:F.value,editGoodsFreightPrice:p.freight,inventoryCount:p.inventory,goodsSupplyPrice:p.goodsSupplyPrice,goodsDescribe:p.goodsDescribe,goodsImg:p.goodsImg,goodsImgList:p.goodsImgList,goodsFreightPrice:p.freight,goodsPrice:p.price,goodsName:p.name,goodsStatus:p.state,operatorName:p.name,radioValue:p.state,goodsOriginId:"",goodsOriginName:p.goodsOriginName}),J=(f,s)=>{console.log(s),s==="new"?N.goodsImgList.splice(f,1):I.goodsImgList.splice(f,1)},X=V(!1),Q=V(!1),ie=()=>{r==="new"?kt(N).then(({code:f})=>{f==200?fe.success("商品新增成功！"):fe.error("失败")}):Ft(I).then(f=>{f.data===!0?(fe.success("成功"),t.back()):fe.error("失败")})},ee=(f,s)=>{s=="img"?X.value=!0:Q.value=!0;let k=new FormData;k.append("currencyFile",f),Mt(k).then(({code:j,message:R})=>{j==200?r=="new"?s=="img"?(X.value=!1,N.goodsImg=R):(Q.value=!1,N.goodsImgList.push(R)):s=="img"?(X.value=!1,I.goodsImg=R):(Q.value=!1,I.goodsImgList.push(R)):alert("接口上传失败！")})},se=(f,s)=>{if(s==="may"){if(r=="new"){if(N.goodsImgList.length>=6)return fe.warning("最多上传为6个图")}else if(I.goodsImgList.length>=6)return fe.warning("最多上传为6个图")}let k=f.target.files[0];if(!k)return!1;if(k.size/1024/1024>1)return alert("不可以上传超过1mb的图！"),!1;ee(k,s)};return(f,s)=>{const k=Dt,j=Kt,R=Yt,M=Ht,Z=Wt,ue=qt,G=vn,o=Jt,d=Qt,m=zt;return b(),U(ne,null,[c(m,{"label-col":u,"wrapper-col":v,layout:"horizontal",style:{"max-width":"600px"}},{default:x(()=>[T("div",null,[H(Fe(n(r)=="new"?"新建商品":n(r)=="see"?"商品查看":"商品编辑"),1),c(k,{type:"primary",onClick:P},{default:x(()=>[H("返回")]),_:1})]),c(M,{label:"商品发源地"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(R,{key:0,value:n(I).goodsOriginName,"onUpdate:value":s[0]||(s[0]=l=>n(I).goodsOriginName=l),disabled:n($)==!0},{default:x(()=>[(b(!0),U(ne,null,Ne(n(a).value,(l,E)=>(b(),C(j,{key:E,value:l.goodsOriginName},{default:x(()=>[H(Fe(n($).value==!0?n(y):l.goodsOriginName),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])):(b(),C(R,{key:1,value:n(N).goodsOriginName,"onUpdate:value":s[1]||(s[1]=l=>n(N).goodsOriginName=l),disabled:n($)==!0},{default:x(()=>[(b(!0),U(ne,null,Ne(n(a).value,(l,E)=>(b(),C(j,{key:E,value:l.goodsOriginName},{default:x(()=>[H(Fe(n($).value==!0?n(p).goodsOriginName:l.goodsOriginName),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"]))]),_:1}),c(M,{label:"商品名称"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(Z,{key:0,value:n(I).goodsName,"onUpdate:value":s[2]||(s[2]=l=>n(I).goodsName=l),disabled:n($)==!0,placeholder:"请输入商品名称"},null,8,["value","disabled"])):(b(),C(Z,{key:1,value:n(N).goodsName,"onUpdate:value":s[3]||(s[3]=l=>n(N).goodsName=l),disabled:n($)==!0,placeholder:"请输入商品名称"},null,8,["value","disabled"]))]),_:1}),c(M,{label:"商品描述"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(ue,{key:0,value:n(I).goodsDescribe,"onUpdate:value":s[4]||(s[4]=l=>n(I).goodsDescribe=l),disabled:n($)==!0,placeholder:"请输入商品描述内容"},null,8,["value","disabled"])):(b(),C(ue,{key:1,value:n(N).goodsDescribe,"onUpdate:value":s[5]||(s[5]=l=>n(N).goodsDescribe=l),disabled:n($)==!0,placeholder:"请输入商品描述内容"},null,8,["value","disabled"]))]),_:1}),c(M,{label:"商品售价"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(G,{key:0,value:n(I).editGoodsPrice,"onUpdate:value":s[6]||(s[6]=l=>n(I).editGoodsPrice=l),disabled:n($)==!0,placeholder:"请输入商品售价"},null,8,["value","disabled"])):(b(),C(G,{key:1,value:n(N).goodsPrice,"onUpdate:value":s[7]||(s[7]=l=>n(N).goodsPrice=l),disabled:n($)==!0,placeholder:"请输入商品售价"},null,8,["value","disabled"]))]),_:1}),c(M,{label:"成本价"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(G,{key:0,value:n(I).editGoodsSupplyPrice,"onUpdate:value":s[8]||(s[8]=l=>n(I).editGoodsSupplyPrice=l),disabled:n($)==!0,placeholder:"请输入商品成品价"},null,8,["value","disabled"])):(b(),C(G,{key:1,value:n(N).goodsSupplyPrice,"onUpdate:value":s[9]||(s[9]=l=>n(N).goodsSupplyPrice=l),disabled:n($)==!0,placeholder:"请输入商品成品价"},null,8,["value","disabled"]))]),_:1}),c(M,{label:"商品库存"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(G,{key:0,value:n(I).editInventoryCount,"onUpdate:value":s[10]||(s[10]=l=>n(I).editInventoryCount=l),disabled:n($)==!0,placeholder:"请输入商品库存"},null,8,["value","disabled"])):(b(),C(G,{key:1,value:n(N).inventoryCount,"onUpdate:value":s[11]||(s[11]=l=>n(N).inventoryCount=l),disabled:n($)==!0,placeholder:"请输入商品库存"},null,8,["value","disabled"]))]),_:1}),c(M,{label:"商品封面"},{default:x(()=>[T("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",style:{display:"none"},id:"uploadGoodsCover",onChange:s[12]||(s[12]=l=>n(se)(l,"img"))},null,32),T("label",bn,[n(X)?(b(),C(n(Qe),{key:0})):(b(),U("div",hn,[n(r)=="new"?(b(),U(ne,{key:0},[n(N).goodsImg?(b(),U("img",{key:1,src:n(N).goodsImg,alt:""},null,8,yn)):(b(),C(n(Me),{key:0}))],64)):(b(),U(ne,{key:1},[n(I).goodsImg?(b(),U("img",{key:1,src:n(I).goodsImg,alt:""},null,8,Sn)):(b(),C(n(Me),{key:0}))],64))]))])]),_:1}),c(M,{label:"商品图片"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(!0),U(ne,{key:0},Ne(n(I).goodsImgList,(l,E)=>(b(),U("span",{class:"del",key:E},[De(T("a",{href:"javascript:void(0)",onClick:z=>n(J)(E,"edit")},"x",8,Nn),[[ke,n(r)=="edit"]]),T("img",{class:"img",src:l,alt:""},null,8,In)]))),128)):(b(!0),U(ne,{key:1},Ne(n(N).goodsImgList,(l,E)=>(b(),U("span",$n,[T("a",{href:"javascript:void(0)",onClick:z=>n(J)(E,"new")},"x",8,wn),T("img",{class:"img",src:l,alt:""},null,8,_n)]))),256)),T("div",{disabled:n($)},[T("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",style:{display:"none"},id:"uploadGoodsPic",onChange:s[13]||(s[13]=l=>n(se)(l,"may"))},null,32),T("label",Cn,[n(Q)?(b(),C(n(Qe),{key:0})):(b(),C(n(Me),{key:1}))]),En],8,xn)]),_:1}),c(M,{label:"商品运费"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(Z,{key:0,value:n(I).editGoodsFreightPrice,"onUpdate:value":s[14]||(s[14]=l=>n(I).editGoodsFreightPrice=l),disabled:n($)==!0,placeholder:"请输入商品运费"},null,8,["value","disabled"])):(b(),C(Z,{key:1,value:n(N).goodsFreightPrice,"onUpdate:value":s[15]||(s[15]=l=>n(N).goodsFreightPrice=l),disabled:n($)==!0,placeholder:"请输入商品运费"},null,8,["value","disabled"]))]),_:1}),c(M,{label:"是否上架"},{default:x(()=>[n(r)=="edit"||n(r)=="see"?(b(),C(d,{key:0,value:n(I).goodsStatus,"onUpdate:value":s[16]||(s[16]=l=>n(I).goodsStatus=l),disabled:n($)==!0},{default:x(()=>[c(o,{value:"1"},{default:x(()=>[H("上架")]),_:1}),c(o,{value:"0"},{default:x(()=>[H("不上架")]),_:1})]),_:1},8,["value","disabled"])):(b(),C(d,{key:1,value:n(N).goodsStatus,"onUpdate:value":s[17]||(s[17]=l=>n(N).goodsStatus=l),disabled:n($)==!0},{default:x(()=>[c(o,{value:"1"},{default:x(()=>[H("上架")]),_:1}),c(o,{value:"0"},{default:x(()=>[H("不上架")]),_:1})]),_:1},8,["value","disabled"]))]),_:1})]),_:1}),T("div",Pn,[c(k,{type:"primary",onClick:P},{default:x(()=>[H("返回")]),_:1}),De(c(k,{type:"primary",onClick:P},{default:x(()=>[H("取消")]),_:1},512),[[ke,n(r)!=="see"]]),De(c(k,{type:"primary",onClick:n(ie)},{default:x(()=>[H("发布")]),_:1},8,["onClick"]),[[ke,n(r)!=="see"]])])],64)}}};export{Ln as default};
