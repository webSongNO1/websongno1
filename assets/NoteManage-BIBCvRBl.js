import{A as I}from"./request-CDtsqYAV.js";import{r as S,a as O,w as P,o as _,b as g,d as i,c as e,e as n,u as o,F as y,f as p,g as R,t as w,h as C,i as T,_ as $,B as j,j as A}from"./index-Ce41ocDD.js";import{F as q,I as Q,_ as G}from"./index-CKAsUCrO.js";import{_ as H,a as J}from"./index-BTMABiMH.js";import{S as K,_ as W}from"./index-C-BF23Zx.js";import{R as X}from"./dayjs-d2x8TYov.js";let Z=m=>I.get("https://css2-uat.tata.com.cn/mall/clubs/queryClubsListPC",{params:m}),tt=m=>I.post("https://css2-uat.tata.com.cn/mall/clubs/editClubs",m);const et={class:"box"},at={class:"gutter-box"},nt={class:"gutter-box"},lt={class:"gutter-box"},ot={class:"gutter-box"},st={class:"gutter-box"},it={class:"gutter-box"},ut={key:0},ct={key:1,class:"editable-row-operations"},dt=["onClick"],rt={class:"page"},xt={__name:"NoteManage",setup(m){const N=[{title:"编码",dataIndex:"id",width:"5%"},{title:"活动名称",dataIndex:"activityTitle",width:"10%"},{title:"评论人",dataIndex:"clubsUserNickname",width:"8%"},{title:"评论时间",dataIndex:"createTimeStart",width:"10%"},{title:"评论内容",dataIndex:"clubsContent",width:"20%"},{title:"点赞数",dataIndex:"clubsLikeTotal",width:"8%"},{title:"状态",dataIndex:"clubsState",width:"5%"},{title:"编辑",dataIndex:"operation",width:"5%"}];let b=S(),t=O({clubsContent:"",activityTitle:"",activityUserNickname:"",createTimeEnd:"",clubsUserOpenid:"",clubsLikeTotal:"",clubsLikeOpenid:123,current:1,pageSize:5,total:0});P(b,([s,a])=>{s?t.createTimeEnd=T(a).format("YYYY-MM-DD ")+" 00:00:00":t.createTimeEnd="",a?t.createTimeStart=T(a).format("YYYY-MM-DD ")+" 00:00:00":t.createTimeStart=""});let U=(s,a)=>{t.current=s,t.pageSize=a,v(t)};const f=S([]),v=s=>Z(s).then(a=>{console.log(a,"笔记管理"),f.value=a.data.records;let c=Number(a.data.total);s.total=c,console.log(f.value,"状态")});v(t);const B=s=>{s.clubsState=s.clubsState=="0"?"1":"0",tt(t)},Y=()=>{v(t),t.current=1};let z=s=>{s?b.value=s:b.value=[]};return(s,a)=>{const c=Q,r=G,d=$,x=K,D=W,E=j,h=A,L=X,F=q,M=H,V=J;return _(),g(y,null,[i("div",et,[e(F,{ref:"formRef",model:o(t)},{default:n(()=>[e(h,{gutter:[16]},{default:n(()=>[e(d,{class:"gutter-row",span:6},{default:n(()=>[i("div",at,[e(r,{ref:"activityTitle",label:"活动名称",name:"activityTitle"},{default:n(()=>[e(c,{value:o(t).activityTitle,"onUpdate:value":a[0]||(a[0]=l=>o(t).activityTitle=l),placeholder:"请输入集合编号"},null,8,["value"])]),_:1},512)])]),_:1}),e(d,{class:"gutter-row",span:6},{default:n(()=>[i("div",nt,[e(r,{label:"评论人",name:"clubsUserNickname"},{default:n(()=>[e(c,{value:o(t).clubsUserNickname,"onUpdate:value":a[1]||(a[1]=l=>o(t).clubsUserNickname=l),placeholder:"请输入集合编号"},null,8,["value"])]),_:1})])]),_:1}),e(d,{class:"gutter-row",span:6},{default:n(()=>[i("div",lt,[e(r,{label:"状态",name:"clubsState"},{default:n(()=>[e(D,{value:o(t).clubsState,"onUpdate:value":a[2]||(a[2]=l=>o(t).clubsState=l)},{default:n(()=>[e(x,{value:0},{default:n(()=>[p("不公开")]),_:1}),e(x,{value:1},{default:n(()=>[p("公开")]),_:1}),e(x,{value:2},{default:n(()=>[p("隐藏")]),_:1})]),_:1},8,["value"])]),_:1})])]),_:1}),e(d,{class:"gutter-row",span:6},{default:n(()=>[i("div",ot,[e(E,{type:"primary",onClick:Y},{default:n(()=>[p("查询")]),_:1})])]),_:1})]),_:1}),e(h,null,{default:n(()=>[e(d,{class:"gutter-row",span:6},{default:n(()=>[i("div",st,[e(r,{label:"开始时间",name:"createTimeStart"},{default:n(()=>[e(L,{class:"inpt",onChange:o(z)},null,8,["onChange"])]),_:1})])]),_:1}),e(d,{class:"gutter-row",span:6},{default:n(()=>[i("div",it,[e(r,{ref:"name",label:"评论内容",name:"clubsContent"},{default:n(()=>[e(c,{value:o(t).clubsContent,"onUpdate:value":a[3]||(a[3]=l=>o(t).clubsContent=l),placeholder:"请输入集合编号"},null,8,["value"])]),_:1},512)])]),_:1})]),_:1})]),_:1},8,["model"])]),i("div",null,[e(M,{columns:N,"data-source":f.value,bordered:"",pagination:!1},{bodyCell:n(({column:l,text:_t,record:u})=>[["name","age","address"].includes(l.dataIndex)?(_(),g("div",ut,[(u.key,_(),R(c,{key:0,value:[u.key][l.dataIndex],"onUpdate:value":k=>[u.key][l.dataIndex]=k,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"]))])):l.dataIndex==="operation"?(_(),g("div",ct,[i("span",null,[i("a",{onClick:k=>B(u)},w(u.clubsState==1?"下架":""),9,dt)])])):C("",!0),l.dataIndex==="clubsState"?(_(),g(y,{key:2},[p(w(u.clubsState==1?"公开":u.clubsState==2?"隐藏":"不公开"),1)],64)):C("",!0)]),_:1},8,["data-source"])]),i("div",rt,[e(V,{current:o(t).current,"onUpdate:current":a[4]||(a[4]=l=>o(t).current=l),"page-size":o(t).pageSize,"onUpdate:pageSize":a[5]||(a[5]=l=>o(t).pageSize=l),total:o(t).total,"show-total":l=>`共 ${l} 条`,onChange:o(U)},null,8,["current","page-size","total","show-total","onChange"])])],64)}}};export{xt as default};
