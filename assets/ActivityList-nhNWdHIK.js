import{A as H}from"./request-CDtsqYAV.js";import{c as t,A as U,r as S,a as K,w as N,o as g,b as T,d as u,e as c,u as s,F as I,f as y,g as tt,t as D,h as Y,i as x,_ as et,B as at,j as nt}from"./index-Ce41ocDD.js";import{F as it,I as lt,_ as ot}from"./index-CKAsUCrO.js";import{_ as ct,a as st}from"./index-BTMABiMH.js";import{R as rt}from"./dayjs-d2x8TYov.js";import{S as ut,_ as dt}from"./index-C-BF23Zx.js";var vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M952 792H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-632H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM608 660c8.8 0 16-7.2 16-16V380c0-8.8-7.2-16-16-16H96c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h512zM152 436h400v152H152V436zm552 210c0 4.4 3.6 8 8 8h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H712c-4.4 0-8 3.6-8 8v56zm8-204h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H712c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8z"}}]},name:"pic-left",theme:"outlined"};const pt=vt;function L(l){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?Object(arguments[i]):{},d=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(o).filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable}))),d.forEach(function(v){_t(l,v,o[v])})}return l}function _t(l,i,o){return i in l?Object.defineProperty(l,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[i]=o,l}var w=function(i,o){var d=L({},i,o.attrs);return t(U,L({},d,{icon:pt}),null)};w.displayName="PicLeftOutlined";w.inheritAttrs=!1;const mt=w;var ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M952 792H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-632H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-24 500c8.8 0 16-7.2 16-16V380c0-8.8-7.2-16-16-16H416c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h512zM472 436h400v152H472V436zM80 646c0 4.4 3.6 8 8 8h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H88c-4.4 0-8 3.6-8 8v56zm8-204h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H88c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8z"}}]},name:"pic-right",theme:"outlined"};const gt=ft;function M(l){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?Object(arguments[i]):{},d=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(o).filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable}))),d.forEach(function(v){yt(l,v,o[v])})}return l}function yt(l,i,o){return i in l?Object.defineProperty(l,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[i]=o,l}var k=function(i,o){var d=M({},i,o.attrs);return t(U,M({},d,{icon:gt}),null)};k.displayName="PicRightOutlined";k.inheritAttrs=!1;const ht=k;let bt=l=>H.get("https://css2-uat.tata.com.cn/mall/threepeopleline/queryThreePeopleLineList",{params:l}),St=l=>H.post("https://css2-uat.tata.com.cn/mall/threepeopleline/editThreePeopleLine",l);const Tt={class:"boxs"},xt={class:"gutter-box"},Ot={class:"gutter-box"},Pt={class:"gutter-box"},wt={class:"gutter-box"},kt={class:"gutter-box"},Et={class:"gutter-box"},zt={class:"gutter-box"},Ct={class:"crumb"},Nt=u("span",null,"最新",-1),It=u("span",null,"最热",-1),Dt={key:0},Yt={key:1,class:"editable-row-operations"},Lt=["onClick"],Mt=["onClick"],Ht={class:"page"},Ft={__name:"ActivityList",setup(l){const i=S({}),o={span:5},d={span:13},v=[{title:"编码",dataIndex:"activityTypeCode"},{title:"活动名称",dataIndex:"activityTitle"},{title:"活动类型",dataIndex:"activityTypeName"},{title:"主理人",dataIndex:"activityUserNickname"},{title:"人数",dataIndex:"activityPeopleNumber"},{title:"活动开始时间",dataIndex:"activityStartTime"},{title:"活动结束时间",dataIndex:"activityEndTime"},{title:"报名截止时间",dataIndex:"activityEnlistEndTime"},{title:"状态",dataIndex:"activityState"},{title:"编辑",dataIndex:"operation"}],h=S([]);let b=S(),E=S(),e=K({queryFlag:"",activityTypeName:"",activityTitle:"",activityState:"",activityEndTimeStart:"",activityEndTimeEnd:"",activityStartTimeStart:"",activityStartTimeEnd:"",activityUserNickname:"",current:1,pageSize:5,total:0});N(b,([a,n])=>{a?e.activityStartTimeStart=x(a).format("YYYY-MM-DD ")+" 00:00:00":e.activityStartTimeStart="",n?e.activityStartTimeEnd=x(n).format("YYYY-MM-DD ")+" 00:00:00":e.activityStartTimeEnd=""}),N(E,([a,n])=>{a?e.activityEndTimeStart=x(a).format("YYYY-MM-DD ")+" 00:00:00":e.activityEndTimeStart="",n?e.activityEndTimeEnd=x(n).format("YYYY-MM-DD ")+" 00:00:00":e.activityEndTimeEnd=""});const O=()=>bt(e).then(a=>{console.log(a,"活动列表数据");let n=Number(a.data.total);h.value=a.data.records,e.total=n});O();const j=()=>{e.current=1;let a=h.value.sort((n,p)=>new Date(p.activityStartTime)-new Date(n.activityStartTime));console.log(a)},B=()=>{e.current=1;let a=h.value.sort((n,p)=>p.activityPeopleNumber-n.activityPeopleNumber);console.log(a)};let R=a=>{console.log(a)};const $=a=>{a.activityState=a.activityState=="0"?"1":"0",St(a)},V=()=>{O()};let A=(a,n)=>{e.current=a,e.pageSize=n,O()},F=a=>{a?b.value=a:b.value=[]},q=a=>{a?E.value=a:b.value=[]};return(a,n)=>{const p=lt,f=ot,_=et,Q=at,z=rt,C=ut,G=dt,J=nt,W=it,X=ct,Z=st;return g(),T(I,null,[u("div",Tt,[t(W,{ref_key:"formRef",ref:i,model:s(e),"label-col":o,"wrapper-col":d},{default:c(()=>[t(J,null,{default:c(()=>[t(_,{class:"gutter-row",span:6},{default:c(()=>[u("div",xt,[t(f,{ref:"name",label:"活动名称",name:"activityTitle"},{default:c(()=>[t(p,{class:"inpt",value:s(e).activityTitle,"onUpdate:value":n[0]||(n[0]=r=>s(e).activityTitle=r),placeholder:"请输入活动名称"},null,8,["value"])]),_:1},512)])]),_:1}),t(_,{class:"gutter-row",span:6},{default:c(()=>[u("div",Ot,[t(f,{label:"活动类型"},{default:c(()=>[t(p,{class:"inpt",value:s(e).activityTypeName,"onUpdate:value":n[1]||(n[1]=r=>s(e).activityTypeName=r),placeholder:"请输入活动类型"},null,8,["value"])]),_:1})])]),_:1}),t(_,{class:"gutter-row",span:6},{default:c(()=>[u("div",Pt,[t(f,{label:"主理人"},{default:c(()=>[t(p,{class:"inpt",value:s(e).activityUserNickname,"onUpdate:value":n[2]||(n[2]=r=>s(e).activityUserNickname=r),placeholder:"请输入活动类型"},null,8,["value"])]),_:1})])]),_:1}),t(_,{class:"gutter-row",span:6},{default:c(()=>[u("div",wt,[t(Q,{type:"primary",onClick:V},{default:c(()=>[y("查询")]),_:1})])]),_:1}),t(_,{class:"gutter-row",span:10},{default:c(()=>[u("div",kt,[t(f,{label:"开始时间"},{default:c(()=>[t(z,{onChange:s(F)},null,8,["onChange"])]),_:1})])]),_:1}),t(_,{class:"gutter-row",span:10},{default:c(()=>[u("div",Et,[t(f,{label:"结束时间"},{default:c(()=>[t(z,{onChange:s(q)},null,8,["onChange"])]),_:1})])]),_:1}),t(_,{class:"gutter-row",span:4},{default:c(()=>[u("div",zt,[t(f,{label:"状态"},{default:c(()=>[t(G,{value:s(e).activityState,"onUpdate:value":n[3]||(n[3]=r=>s(e).activityState=r)},{default:c(()=>[t(C,{value:0},{default:c(()=>[y("展开")]),_:1}),t(C,{value:1},{default:c(()=>[y("隐藏")]),_:1})]),_:1},8,["value"])]),_:1})])]),_:1})]),_:1})]),_:1},8,["model"])]),u("div",null,[u("div",Ct,[u("a",{class:"last",onClick:j},[Nt,t(s(mt))]),u("a",{onClick:B},[It,t(s(ht))])]),t(X,{columns:v,"data-source":h.value,bordered:"",pagination:!1},{bodyCell:c(({column:r,text:Ut,record:m})=>[["name","age","address"].includes(r.dataIndex)?(g(),T("div",Dt,[(m.key,g(),tt(p,{key:0,value:[m.key][r.dataIndex],"onUpdate:value":P=>[m.key][r.dataIndex]=P,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"]))])):r.dataIndex=="operation"?(g(),T("div",Yt,[u("span",null,[u("a",{onClick:P=>s(R)(m)},"查看",8,Lt),y("   "),u("a",{onClick:P=>$(m)},D(m.activityState==0?"展示":"隐藏"),9,Mt)])])):Y("",!0),r.dataIndex==="activityState"?(g(),T(I,{key:2},[y(D(m.activityState==0?"隐藏":"展示"),1)],64)):Y("",!0)]),_:1},8,["data-source"]),u("div",Ht,[t(Z,{current:s(e).current,"onUpdate:current":n[4]||(n[4]=r=>s(e).current=r),"page-size":s(e).pageSize,"onUpdate:pageSize":n[5]||(n[5]=r=>s(e).pageSize=r),total:s(e).total,"show-total":r=>`共 ${r} 条`,onChange:s(A)},null,8,["current","page-size","total","show-total","onChange"])])])],64)}}};export{Ft as default};
